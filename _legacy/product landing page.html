<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Product Collection - VALENCIRĖ®</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000;
      color: #f5f5f5;
      font-family: "Helvetica Neue", "Futura", Arial, sans-serif;
      overflow-x: hidden;
    }

    /* ================= HEADER ================= */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 60px;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(30px) saturate(180%);
      border-bottom: 1px solid rgba(245, 245, 245, 0.06);
      z-index: 5000;
      transition: .4s ease;
    }

    .logo {
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .logo img {
      height: 110px;
      width: auto;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .logo img:hover {
      transform: scale(1.05);
      opacity: 0.9;
    }


    .nav-links {
      display: flex;
      gap: 40px;
      align-items: center;
    }

    .nav-link {
      font-size: 11px;
      letter-spacing: 2.5px;
      cursor: pointer;
      opacity: .7;
      transition: .3s ease;
      text-transform: uppercase;
    }

    .nav-link:hover {
      opacity: 1;
    }

    .cart-icon-wrapper {
      position: relative;
      cursor: pointer;
    }

    .cart-icon {
      width: 20px;
      height: 20px;
      stroke: #f5f5f5;
      stroke-width: 1.5;
      fill: none;
      opacity: .8;
      transition: .3s ease;
    }

    .cart-icon:hover {
      opacity: 1;
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -10px;
      background: #c41e3a;
      color: #fff;
      font-size: 10px;
      font-weight: bold;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: scale(0);
      transition: .3s ease;
    }

    .cart-count.active {
      opacity: 1;
      transform: scale(1);
    }

    /* Cart icon premium animation */
    @keyframes cartBounce {

      0%,
      100% {
        transform: scale(1);
      }

      10% {
        transform: scale(0.9);
      }

      30% {
        transform: scale(1.15);
      }

      50% {
        transform: scale(1.05);
      }

      70% {
        transform: scale(1.1);
      }

      90% {
        transform: scale(1.02);
      }
    }

    @keyframes cartPulse {
      0% {
        box-shadow: 0 0 0 0 rgba(196, 30, 58, 0.7);
      }

      50% {
        box-shadow: 0 0 0 10px rgba(196, 30, 58, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(196, 30, 58, 0);
      }
    }

    .cart-icon-wrapper.animate {
      animation: cartBounce 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .cart-count.pulse {
      animation: cartPulse 0.6s ease-out;
    }

    /* Enhanced cart animation */
    @keyframes cartShake {

      0%,
      100% {
        transform: translateX(0) rotate(0deg);
      }

      10% {
        transform: translateX(-3px) rotate(-5deg);
      }

      20% {
        transform: translateX(3px) rotate(5deg);
      }

      30% {
        transform: translateX(-3px) rotate(-3deg);
      }

      40% {
        transform: translateX(3px) rotate(3deg);
      }

      50% {
        transform: translateX(-2px) rotate(-2deg);
      }

      60% {
        transform: translateX(2px) rotate(2deg);
      }

      70% {
        transform: translateX(-1px) rotate(-1deg);
      }

      80% {
        transform: translateX(1px) rotate(1deg);
      }
    }

    .cart-icon-wrapper.shake {
      animation: cartShake 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97);
    }

    /* Cart particle effect */
    @keyframes particleFloat {
      0% {
        opacity: 1;
        transform: translate(0, 0) scale(1);
      }

      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0);
      }
    }

    .cart-particle {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #f5f5f5;
      border-radius: 50%;
      pointer-events: none;
      animation: particleFloat 0.8s ease-out forwards;
    }

    /* ================= PRODUCT SELECTOR ================= */
    .product-selector {
      position: fixed;
      top: 70px;
      width: 100%;
      padding: 20px 60px;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(30px);
      border-bottom: 1px solid rgba(245, 245, 245, 0.06);
      z-index: 4999;
      display: flex;
      gap: 20px;
      overflow-x: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
      /* IE and Edge */
    }

    .product-selector::-webkit-scrollbar {
      display: none;
    }

    .product-pill {
      padding: 12px 28px;
      background: transparent;
      border: 1px solid rgba(245, 245, 245, 0.25);
      color: #f5f5f5;
      font-size: 11px;
      letter-spacing: 2px;
      cursor: pointer;
      transition: .3s ease;
      text-transform: uppercase;
      white-space: nowrap;
      border-radius: 2px;
    }

    .product-pill:hover,
    .product-pill.active {
      background: rgba(245, 245, 245, 0.12);
      border-color: rgba(245, 245, 245, 0.5);
    }

    /* ================= HERO ================= */
    .hero {
      min-height: 100vh;
      padding-top: 140px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .hero-bg {
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #1a0000 0%, #000 50%, #0a0a1a 100%);
      transition: background 1s ease;
    }

    .hero-content-wrapper {
      width: 100%;
      max-width: 1600px;
      padding: 0 8%;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 80px;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .hero-text {
      opacity: 0;
      animation: fadeInLeft 1s ease forwards;
    }

    .eyebrow {
      font-size: 11px;
      letter-spacing: 4px;
      opacity: .6;
      margin-bottom: 20px;
      text-transform: uppercase;
      font-weight: 500;
    }

    .hero-title {
      font-size: 72px;
      letter-spacing: 8px;
      line-height: 1;
      margin-bottom: 30px;
      font-weight: 300;
      background: linear-gradient(135deg, #fff 0%, #999 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-transform: uppercase;
    }

    .hero-desc {
      font-size: 16px;
      line-height: 1.8;
      opacity: .7;
      margin-bottom: 40px;
      font-weight: 300;
      letter-spacing: 1px;
    }

    .hero-price {
      font-size: 32px;
      letter-spacing: 3px;
      margin-bottom: 50px;
      font-weight: 400;
      opacity: 0.9;
    }

    .product-images {
      position: relative;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      opacity: 0;
      animation: fadeInRight 1s ease forwards .3s;
    }

    .product-image-card {
      position: relative;
      aspect-ratio: 3/4;
      overflow: hidden;
      border-radius: 4px;
      cursor: pointer;
      transition: .5s ease;
    }

    .product-image-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(.9);
      transition: .6s ease;
    }

    .product-image-card:hover img {
      transform: scale(1.1);
      filter: brightness(1);
    }

    .image-label {
      position: absolute;
      bottom: 20px;
      left: 20px;
      padding: 8px 16px;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      font-size: 10px;
      letter-spacing: 2px;
      border: 1px solid rgba(245, 245, 245, 0.2);
      border-radius: 2px;
    }

    .size-price-section {
      margin-top: 40px;
      padding-top: 40px;
      border-top: 1px solid rgba(245, 245, 245, 0.1);
    }

    .section-label {
      font-size: 11px;
      letter-spacing: 3px;
      opacity: .5;
      margin-bottom: 20px;
      text-transform: uppercase;
    }

    .size-selector {
      display: flex;
      gap: 12px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .size-btn {
      padding: 14px 24px;
      background: transparent;
      border: 1px solid rgba(245, 245, 245, 0.3);
      color: #f5f5f5;
      font-size: 12px;
      letter-spacing: 2px;
      cursor: pointer;
      transition: .3s ease;
      text-transform: uppercase;
    }

    .size-btn:hover,
    .size-btn.selected {
      background: rgba(245, 245, 245, 0.12);
      border-color: rgba(245, 245, 245, 0.6);
      transform: translateY(-2px);
    }

    .qty-selector {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 40px;
    }

    .qty-label {
      font-size: 12px;
      letter-spacing: 3px;
      opacity: .7;
      text-transform: uppercase;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      gap: 16px;
      background: rgba(245, 245, 245, 0.05);
      padding: 10px 20px;
      border: 1px solid rgba(245, 245, 245, 0.15);
    }

    .qty-btn {
      width: 30px;
      height: 30px;
      background: transparent;
      border: 1px solid rgba(245, 245, 245, 0.3);
      color: #f5f5f5;
      cursor: pointer;
      font-size: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: .3s ease;
    }

    .qty-btn:hover {
      background: rgba(245, 245, 245, 0.1);
      border-color: rgba(245, 245, 245, 0.6);
    }

    .qty-display {
      font-size: 15px;
      min-width: 35px;
      text-align: center;
      letter-spacing: 2px;
    }

    .cta-buttons {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .btn-primary,
    .btn-secondary {
      padding: 18px 40px;
      font-size: 11px;
      letter-spacing: 3px;
      cursor: pointer;
      transition: .4s ease;
      text-transform: uppercase;
      font-weight: 600;
      border: none;
      position: relative;
      overflow: hidden;
      flex: 1;
      min-width: 180px;
    }

    .btn-primary {
      background: #f5f5f5;
      color: #000;
    }

    .btn-primary:hover {
      background: #fff;
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(245, 245, 245, 0.3);
    }

    .btn-secondary {
      background: transparent;
      color: #f5f5f5;
      border: 1.5px solid rgba(245, 245, 245, 0.4);
    }

    .btn-secondary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: #f5f5f5;
      transform: translateX(-100%);
      transition: .4s ease;
      z-index: -1;
    }

    .btn-secondary:hover {
      color: #000;
      border-color: #f5f5f5;
    }

    .btn-secondary:hover::before {
      transform: translateX(0);
    }

    @keyframes fadeInLeft {
      to {
        opacity: 1;
        transform: translateX(0);
      }

      from {
        opacity: 0;
        transform: translateX(-50px);
      }
    }

    @keyframes fadeInRight {
      to {
        opacity: 1;
        transform: translateX(0);
      }

      from {
        opacity: 0;
        transform: translateX(50px);
      }
    }

    /* ================= FEATURES ================= */
    .features {
      padding: 140px 8%;
      background: #050505;
      border-top: 1px solid rgba(245, 245, 245, 0.06);
    }

    .section-header {
      text-align: center;
      max-width: 700px;
      margin: 0 auto 100px;
    }

    .section-title {
      font-size: 42px;
      letter-spacing: 6px;
      margin-bottom: 25px;
      font-weight: 300;
    }

    .section-desc {
      font-size: 15px;
      line-height: 1.8;
      opacity: .6;
      font-weight: 300;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 50px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .feature-card {
      text-align: center;
      padding: 50px 30px;
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
      border: 1px solid rgba(245, 245, 245, 0.06);
      transition: .5s cubic-bezier(.4, 0, .2, 1);
      position: relative;
      overflow: hidden;
    }

    @media(max-width: 768px) {
      .feature-card {
        padding: 30px 15px;
      }

      .feature-icon {
        width: 50px;
        height: 50px;
        margin: 0 auto 20px;
      }

      .feature-icon svg {
        width: 24px;
        height: 24px;
      }

      .feature-card h3 {
        font-size: 11px;
        letter-spacing: 2px;
        margin-bottom: 12px;
      }

      .feature-card p {
        font-size: 12px;
        line-height: 1.6;
      }
    }

    .feature-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), transparent);
      opacity: 0;
      transition: .5s ease;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      border-color: rgba(245, 245, 245, 0.15);
    }

    .feature-card:hover::before {
      opacity: 1;
    }

    .feature-icon {
      width: 70px;
      height: 70px;
      margin: 0 auto 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(245, 245, 245, 0.05);
      border-radius: 50%;
      border: 1px solid rgba(245, 245, 245, 0.1);
    }

    .feature-icon svg {
      width: 32px;
      height: 32px;
      stroke: #f5f5f5;
      stroke-width: 1.5;
      fill: none;
    }

    .feature-card h3 {
      font-size: 16px;
      letter-spacing: 3px;
      margin-bottom: 18px;
      font-weight: 400;
      text-transform: uppercase;
    }

    .feature-card p {
      font-size: 14px;
      line-height: 1.8;
      opacity: .6;
      font-weight: 300;
    }

    /* ================= TECH SPECS ================= */
    .tech-specs {
      padding: 140px 8%;
      background: #000;
      border-top: 1px solid rgba(245, 245, 245, 0.06);
    }

    .specs-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .specs-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2px;
      background: rgba(245, 245, 245, 0.06);
      border: 1px solid rgba(245, 245, 245, 0.06);
      margin-top: 60px;
    }

    .spec-item {
      padding: 30px;
      background: #000;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .spec-label {
      font-size: 11px;
      letter-spacing: 3px;
      opacity: .4;
      text-transform: uppercase;
    }

    .spec-value {
      font-size: 15px;
      letter-spacing: 1px;
      font-weight: 400;
    }

    /* ================= RELATED PRODUCTS ================= */
    .related-products {
      padding: 140px 8%;
      background: #050505;
      border-top: 1px solid rgba(245, 245, 245, 0.06);
    }

    .related-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 40px;
      max-width: 1400px;
      margin: 60px auto 0;
    }

    .related-card {
      cursor: pointer;
      transition: .5s ease;
      position: relative;
    }

    .related-card:hover {
      transform: translateY(-10px);
    }

    .related-image {
      aspect-ratio: 3/4;
      overflow: hidden;
      margin-bottom: 20px;
      background: #0a0a0a;
      border-radius: 4px;
    }

    .related-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: .6s ease;
      filter: brightness(.85);
    }

    .related-card:hover .related-image img {
      transform: scale(1.08);
      filter: brightness(1);
    }

    .related-info h3 {
      font-size: 14px;
      letter-spacing: 2.5px;
      margin-bottom: 8px;
      font-weight: 400;
      text-transform: uppercase;
    }

    .related-info p {
      font-size: 13px;
      opacity: .6;
    }

    /* ================= FOOTER ================= */
    footer {
      padding: 80px 8% 40px;
      background: #000;
      border-top: 1px solid rgba(245, 245, 245, 0.06);
      text-align: center;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    .footer-link {
      font-size: 11px;
      letter-spacing: 2px;
      opacity: .5;
      cursor: pointer;
      transition: .3s ease;
      text-transform: uppercase;
    }

    .footer-link:hover {
      opacity: 1;
    }

    .copyright {
      font-size: 11px;
      opacity: .3;
      letter-spacing: 2px;
    }

    /* ================= NOTIFICATION ================= */
    .cart-notification {
      position: fixed;
      bottom: 40px;
      right: 40px;
      padding: 24px 36px;
      background: rgba(15, 15, 15, 0.95);
      backdrop-filter: blur(30px);
      border: 1px solid rgba(245, 245, 245, 0.2);
      border-radius: 4px;
      font-size: 13px;
      letter-spacing: 2px;
      opacity: 0;
      transform: translateY(20px);
      transition: .4s ease;
      z-index: 7000;
      pointer-events: none;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
    }

    .cart-notification.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* ================= MOBILE MENU ================= */
    .mobile-menu-btn {
      display: none;
      flex-direction: column;
      gap: 6px;
      cursor: pointer;
      z-index: 5002;
    }

    .mobile-menu-btn span {
      width: 24px;
      height: 2px;
      background-color: #f5f5f5;
      transition: 0.3s ease;
    }

    .mobile-menu-btn.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 6px);
    }

    .mobile-menu-btn.active span:nth-child(2) {
      opacity: 0;
    }

    .mobile-menu-btn.active span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -6px);
    }

    .mobile-menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0, 0, 0, 0.98);
      backdrop-filter: blur(20px);
      z-index: 5001;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 40px;
      opacity: 0;
      pointer-events: none;
      transition: 0.4s ease;
    }

    .mobile-menu-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    .mobile-nav-link {
      font-size: 20px;
      letter-spacing: 5px;
      color: #f5f5f5;
      text-transform: uppercase;
      cursor: pointer;
      opacity: 0;
      transform: translateY(20px);
      transition: 0.4s ease;
    }

    .mobile-menu-overlay.active .mobile-nav-link {
      opacity: 1;
      transform: translateY(0);
    }

    /* Mobile: Show cart icon and hamburger side by side */
    .mobile-header-right {
      display: none;
    }

    @media(max-width: 768px) {
      header {
        padding: 0 20px;
      }

      .nav-links {
        display: none;
      }

      .mobile-header-right {
        display: flex;
        align-items: center;
        gap: 20px;
        z-index: 5002;
      }

      .mobile-menu-btn {
        display: flex;
      }
    }

    /* ================= STICKY ACTION BAR ================= */
    .sticky-action-bar {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(150%);
      width: calc(100% - 40px);
      max-width: 500px;
      background: rgba(15, 15, 15, 0.95);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 12px 20px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      z-index: 6000;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .sticky-action-bar.visible {
      transform: translateX(-50%) translateY(0);
    }

    .sticky-info {
      display: flex;
      flex-direction: column;
    }

    .sticky-price {
      font-size: 16px;
      font-weight: 600;
      color: #fff;
    }

    .sticky-size {
      font-size: 11px;
      opacity: 0.6;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .sticky-btn {
      background: #f5f5f5;
      color: #000;
      border: none;
      padding: 10px 24px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
    }

    /* Keep notification above sticky bar on mobile */
    @media(max-width: 768px) {
      .cart-notification {
        bottom: 90px;
      }
    }

    /* ================= RESPONSIVE ================= */
    @media(max-width:1024px) {
      .hero-content-wrapper {
        display: flex;
        flex-direction: column;
        gap: 60px;
      }

      .product-images {
        order: -1;
        /* Image First */
        width: 100%;
      }

      .hero-text {
        width: 100%;
        text-align: center;
        /* Center text on mobile for better balance */
      }

      .hero-title {
        font-size: 48px;
        line-height: 1.1;
      }

      /* Center align selectors and buttons on mobile */
      .size-selector,
      .qty-selector,
      .cta-buttons {
        justify-content: center;
      }
    }

    @media(max-width:768px) {

      header,
      .product-selector {
        padding: 0 24px;
      }

      .mobile-menu-btn {
        display: flex;
      }

      .nav-links {
        display: none;
      }

      .logo img {
        height: 60px;
        /* Smaller logo on mobile */
      }

      /* Keep cart icon visible in header if desired, specifically outside nav-links */
      /* But currently it's inside nav-links. We'll move it or handle it in HTML */

      .hero {
        padding-top: 160px;
      }

      .hero-title {
        font-size: 36px;
        /* Adjusted for preventing overflow */
        letter-spacing: 4px;
      }

      .hero-price {
        font-size: 24px;
        margin-bottom: 30px;
      }

      .product-images {
        grid-template-columns: 1fr;
      }

      .features,
      .tech-specs,
      .related-products {
        padding: 60px 20px;
      }

      .features-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }

      .related-grid {
        grid-template-columns: 1fr;
      }

      .specs-grid {
        grid-template-columns: 1fr;
      }

      .section-title {
        font-size: 28px;
        letter-spacing: 4px;
      }

      /* Stack buttons */
      .cta-buttons {
        flex-direction: column;
      }

      .btn-primary,
      .btn-secondary {
        width: 100%;
      }

      /* Mobile Notification Position */
      .cart-notification {
        left: 20px;
        right: 20px;
        bottom: 20px;
        text-align: center;
        width: auto;
      }
    }

    /* ================= GLOBAL ROUND EDGES ================= */

    /* Buttons */
    button,
    .btn-primary,
    .btn-secondary,
    .product-pill,
    .size-btn,
    .qty-btn {
      border-radius: 999px !important;
    }

    /* Cards & Containers */
    .product-image-card,
    .feature-card,
    .related-card,
    .related-image,
    .spec-item,
    .cart-notification,
    .qty-controls,
    .size-selector {
      border-radius: 24px !important;
    }

    /* Small UI elements */
    .image-label,
    .cart-count {
      border-radius: 999px !important;
    }

    /* ================= LIQUID GLASS EFFECT ================= */

    /* Main product content box */
    .hero-text {
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(24px) saturate(180%);
      -webkit-backdrop-filter: blur(24px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 28px;
      padding: 48px;
      box-shadow:
        0 40px 80px rgba(0, 0, 0, 0.7),
        inset 0 1px 0 rgba(255, 255, 255, 0.25);
    }

    /* Product image cards */
    .product-image-card {
      background: rgba(255, 255, 255, 0.04);
      backdrop-filter: blur(20px) saturate(160%);
      -webkit-backdrop-filter: blur(20px) saturate(160%);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 26px;
      box-shadow:
        0 30px 60px rgba(0, 0, 0, 0.8),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    /* Product selector pills (Blood Noir / Phantom Pro tabs) */
    .product-pill {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(18px) saturate(160%);
      -webkit-backdrop-filter: blur(18px) saturate(160%);
      border: 1px solid rgba(255, 255, 255, 0.18);
      border-radius: 999px;
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        0 10px 30px rgba(0, 0, 0, 0.6);
    }

    /* Active pill glow */
    .product-pill.active {
      background: rgba(255, 255, 255, 0.14);
      border-color: rgba(255, 255, 255, 0.35);
    }

    /* ================= IMAGE CAROUSEL (Mobile) & HOVER (Desktop) ================= */

    .product-images.single {
      display: flex;
      justify-content: center;
    }

    .image-hover-card {
      position: relative;
      width: 360px;
      aspect-ratio: 3 / 4;
      border-radius: 28px;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(22px) saturate(160%);
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 0 40px 80px rgba(0, 0, 0, 0.8);
      cursor: pointer;
    }

    /* Images */
    .image-hover-card img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: opacity .6s ease, transform .6s ease;
      touch-action: none;
    }

    /* Default: show back */
    .img-back {
      opacity: 1;
      transform: scale(1);
    }

    /* Hidden front */
    .img-front {
      opacity: 0;
      transform: scale(1.05);
    }

    /* Hover swap (Desktop only) */
    @media(min-width: 769px) {
      .image-hover-card:hover .img-back {
        opacity: 0;
        transform: scale(1.08);
      }

      .image-hover-card:hover .img-front {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Carousel Dots */
    .carousel-dots {
      position: absolute;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      display: none;
      gap: 8px;
      z-index: 10;
    }

    .carousel-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .carousel-dot.active {
      background: rgba(255, 255, 255, 0.9);
      width: 24px;
      border-radius: 4px;
    }

    /* Label */
    .image-hover-card .image-label {
      position: absolute;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      padding: 8px 18px;
      font-size: 10px;
      letter-spacing: 2px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      z-index: 10;
    }

    /* Mobile: Show dots, hide label */
    @media(max-width: 768px) {
      .carousel-dots {
        display: flex;
      }

      .image-hover-card .image-label {
        display: none;
      }

      .image-hover-card {
        touch-action: pan-y pinch-zoom;
      }
    }

    /* ================= MATCH RIGHT BOX SIZE ================= */

    .product-images {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Make image card match hero-text width & height */
    .image-hover-card {
      width: 100%;
      max-width: 550px;
      /* Slightly constrained for elegance */
      height: auto;
      aspect-ratio: 3 / 4;
      margin: 0 auto;
    }

    /* Ensure both columns feel equal */
    .hero-content-wrapper {
      align-items: stretch;
    }

    /* Stretch image area to match left */
    .product-images {
      height: 100%;
    }

    .product-header {
      position: fixed;
      top: 0;
      right: 0;
      height: 80px;
      padding: 0 40px;
      display: flex;
      align-items: center;
      z-index: 999;
    }

    .cart-icon {
      cursor: pointer;
      opacity: 0.85;
      transition: 0.3s ease;
    }

    .cart-icon:hover {
      opacity: 1;
      transform: scale(1.08);
    }

    /* ================= MOBILE RESPONSIVE ================= */
    @media(max-width: 768px) {
      header {
        padding: 0 20px;
        height: 60px;
      }

      .logo img {
        height: 90px;
      }

      .product-selector {
        padding: 15px 20px;
        top: 60px;
      }

      .hero {
        padding-top: 120px;
      }

      .features,
      .tech-specs,
      .related-products {
        padding: 50px 5%;
      }

      .section-title {
        font-size: 32px;
        letter-spacing: 4px;
      }

      .features-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
      }

      .related-grid {
        grid-template-columns: 1fr;
        gap: 25px;
      }

      .specs-grid {
        grid-template-columns: 1fr;
      }

      .cta-buttons {
        flex-direction: column;
      }

      .btn-primary,
      .btn-secondary {
        width: 100%;
      }
    }

    /* Mobile Notification Position */
    .cart-notification {
      left: 20px;
      right: 20px;
      bottom: 20px;
      text-align: center;
      width: auto;
    }
  </style>
</head>

<body>
  <!-- ================= HEADER ================= -->
  <header>
    <a href="index.html" class="logo">
      <img src="LOGO BRO.png" alt="VALENCIRĖ®">
    </a>

    <!-- Desktop Nav -->
    <div class="nav-links">
      <div class="nav-link" onclick="scrollToSection('features')">Features</div>
      <div class="nav-link" onclick="scrollToSection('specs')">Details</div>
      <!-- Cart Icon in Nav -->
      <div class="cart-icon-wrapper" onclick="viewCart()" id="mainCartIcon">
        <svg class="cart-icon" viewBox="0 0 24 24">
          <path d="M6 7h12l-1 13H7z"></path>
          <path d="M9 7V5a3 3 0 0 1 6 0v2"></path>
        </svg>
        <div class="cart-count" id="cartCount">0</div>
      </div>
    </div>

    <!-- Mobile: Cart Icon & Hamburger -->
    <div class="mobile-header-right">
      <div class="cart-icon-wrapper" onclick="viewCart()" id="mobileCartIcon">
        <svg class="cart-icon" viewBox="0 0 24 24">
          <path d="M6 7h12l-1 13H7z"></path>
          <path d="M9 7V5a3 3 0 0 1 6 0v2"></path>
        </svg>
        <div class="cart-count" id="mobileCartCountBadge">0</div>
      </div>
      <div class="mobile-menu-btn" onclick="toggleMobileMenu(this)">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
      <div class="mobile-nav-link" style="transition-delay: 0.1s" onclick="mobileLinkClick('features')">Features</div>
      <div class="mobile-nav-link" style="transition-delay: 0.2s" onclick="mobileLinkClick('specs')">Details</div>
      <div class="mobile-nav-link" style="transition-delay: 0.3s" onclick="viewCart()">Cart (<span
          id="mobileCartCount">0</span>)</div>
    </div>
  </header>

  <!-- ================= PRODUCT SELECTOR ================= -->
  <div class="product-selector" id="productSelector">
    <!-- Product pills will be generated here -->
  </div>

  <!-- ================= HERO ================= -->
  <section class="hero">
    <div class="hero-bg" id="heroBg"></div>

    <div class="hero-content-wrapper">
      <div class="hero-text">
        <div class="eyebrow" id="eyebrow">NEW ARRIVAL</div>
        <h1 class="hero-title" id="productTitle">BLOOD NOIR™</h1>
        <p class="hero-desc" id="productDesc">Engineered compression fit meets uncompromising luxury.</p>
        <div class="hero-price" id="productPrice">₹1,800</div>

        <div class="size-price-section">
          <div class="section-label">SELECT SIZE</div>
          <div class="size-selector" id="sizeSelector">
            <button class="size-btn" onclick="selectSize(this, 'S')">S</button>
            <button class="size-btn selected" onclick="selectSize(this, 'M')">M</button>
            <button class="size-btn" onclick="selectSize(this, 'L')">L</button>
            <button class="size-btn" onclick="selectSize(this, 'XL')">XL</button>
            <button class="size-btn" onclick="selectSize(this, 'XXL')">XXL</button>
          </div>

          <div class="qty-selector">
            <span class="qty-label">Quantity</span>
            <div class="qty-controls">
              <button class="qty-btn" onclick="changeQty(-1)">−</button>
              <span class="qty-display" id="qtyDisplay">1</span>
              <button class="qty-btn" onclick="changeQty(1)">+</button>
            </div>
          </div>

          <div class="cta-buttons">
            <button class="btn-primary" onclick="addToCart()">
              ADD TO CART – ₹<span id="totalPrice">1,800</span>
            </button>
            <button class="btn-secondary" onclick="buyNow()">BUY NOW</button>
          </div>
        </div>
      </div>

      <div class="product-images single" id="productImages"></div>
    </div>
  </section>

  <!-- ================= FEATURES ================= -->
  <section class="features" id="features">
    <div class="section-header">
      <div class="section-label">CRAFTED FOR PERFECTION</div>
      <h2 class="section-title">PREMIUM ENGINEERING</h2>
      <p class="section-desc">Every detail meticulously designed. Every thread purposefully placed.</p>
    </div>

    <div class="features-grid" id="featuresGrid">
      <!-- Features will be generated dynamically -->
    </div>
  </section>

  <!-- ================= TECH SPECS ================= -->
  <section class="tech-specs" id="specs">
    <div class="specs-container">
      <div class="section-header">
        <div class="section-label">PRODUCT DETAILS</div>
        <h2 class="section-title">SPECIFICATIONS</h2>
      </div>

      <div class="specs-grid" id="specsGrid">
        <!-- Specs will be generated dynamically -->
      </div>
    </div>
  </section>

  <!-- ================= RELATED PRODUCTS ================= -->
  <section class="related-products">
    <div class="section-header">
      <div class="section-label">EXPLORE MORE</div>
      <h2 class="section-title">YOU MAY ALSO LIKE</h2>
    </div>

    <div class="related-grid" id="relatedGrid">
      <!-- Related products will be generated here -->
    </div>
  </section>

  <!-- ================= FOOTER ================= -->
  <footer>
    <div class="footer-links">
      <div class="footer-link">Shipping & Returns</div>
      <div class="footer-link">Size Guide</div>
      <div class="footer-link">Care Instructions</div>
      <div class="footer-link">Contact Us</div>
    </div>
    <div class="copyright">© 2025 VALENCIRĖ® – AIN'T FOR AVERAGE</div>
  </footer>

  <!-- ================= NOTIFICATION ================= -->
  <div class="cart-notification" id="notification"></div>

  <!-- ================= STICKY ACTION BAR (Mobile) ================= -->
  <div class="sticky-action-bar" id="stickyActionBar">
    <div class="sticky-info">
      <div class="sticky-price" id="stickyPrice">₹1,800</div>
      <div class="sticky-size">Size: <span id="stickySizeValue">M</span></div>
    </div>
    <button class="sticky-btn" onclick="addToCart()">ADD TO CART</button>
  </div>

  <script>
    // Product Database
    const products = [
      {
        id: 1,
        name: "AMETHYST NOIR™",
        category: "Compression",
        price: 1800,
        images: { front: "FRONT 1.png", back: "BACK 1.png" },
        description: "Engineered compression fit meets uncompromising luxury. Advanced moisture-wicking technology with a tailored silhouette designed for those who demand excellence.",
        features: [
          { icon: "layers", title: "4-Way Stretch", desc: "Advanced compression fabric engineered for unrestricted movement and superior muscle support." },
          { icon: "droplet", title: "Moisture Control", desc: "Proprietary wicking technology pulls sweat away from skin, keeping you dry." },
          { icon: "shield", title: "Anti-Odor Tech", desc: "Embedded antimicrobial treatment prevents odor-causing bacteria." },
          { icon: "award", title: "Premium Cotton", desc: "Blended with finest Egyptian cotton for unparalleled softness." },
          { icon: "activity", title: "Muscle Recovery", desc: "Graduated compression promotes blood circulation and reduces fatigue." },
          { icon: "scissors", title: "Precision Cut", desc: "Laser-cut seamless construction eliminates chafing points." }
        ],
        specs: {
          "Fabric": "65% Cotton / 30% Polyester / 5% Elastane",
          "Weight": "180 GSM",
          "Fit": "Athletic Compression",
          "Compression": "Medium (15-20 mmHg)",
          "Care": "Machine Wash Cold",
          "Origin": "Made in India",
          "Warranty": "Lifetime Quality",
          "Collection": "Blood Noir Series"
        },
        bgGradient: "linear-gradient(135deg, #22002e 0%, #000 50%, #12001a 100%)",
        new: true
      },
      {
        id: 2,
        name: "BLOOD NOIR™ RED",
        category: "Compression",
        price: 1800,
        images: { front: "FRONT 3.png", back: "BACK 2.png" },
        description: "Bold statement piece with superior compression technology. Combines aggressive styling with performance-driven fabric engineering for the ultimate workout experience.",
        features: [
          { icon: "layers", title: "4-Way Stretch", desc: "Maximum flexibility with targeted compression zones for peak performance." },
          { icon: "droplet", title: "Quick-Dry", desc: "Advanced fabric technology dries 3x faster than traditional materials." },
          { icon: "shield", title: "UV Protection", desc: "Built-in UPF 50+ protection shields skin from harmful rays." },
          { icon: "award", title: "Luxury Blend", desc: "Premium cotton-polyester blend for durability and comfort." },
          { icon: "zap", title: "Energy Return", desc: "Compression technology reduces muscle vibration and fatigue." },
          { icon: "wind", title: "Breathable", desc: "Strategic ventilation zones for optimal airflow." }
        ],
        specs: {
          "Fabric": "60% Cotton / 35% Polyester / 5% Spandex",
          "Weight": "185 GSM",
          "Fit": "Performance Compression",
          "Compression": "Medium-High (20-25 mmHg)",
          "Care": "Machine Wash Cold / Tumble Dry Low",
          "Origin": "Made in India",
          "Warranty": "Lifetime Quality",
          "Collection": "Blood Noir Series"
        },
        bgGradient: "linear-gradient(135deg, #2a0000 0%, #000 50%, #1a0000 100%)",
        new: true
      },

      {
        id: 3,
        name: "PHANTOM PRO™",
        category: "Compression",
        price: 1950,
        images: { front: "valencire blue final out .png", back: "valencire blue back .png" },
        description: "Professional-grade compression with enhanced recovery properties. Engineered for athletes who push limits and demand superior performance gear.",
        features: [
          { icon: "target", title: "Targeted Support", desc: "Strategic compression zones for major muscle groups." },
          { icon: "droplet", title: "Moisture Wicking", desc: "Pulls moisture away from body for dry comfort." },
          { icon: "shield", title: "Anti-Microbial", desc: "Keeps you fresh through intense training sessions." },
          { icon: "cpu", title: "Smart Fabric", desc: "Temperature-regulating technology adapts to your body." },
          { icon: "battery", title: "Energy Boost", desc: "Compression enhances blood flow for better performance." },
          { icon: "check", title: "Seamless Design", desc: "Flatlock seams prevent irritation during movement." }
        ],
        specs: {
          "Fabric": "70% Polyester / 25% Nylon / 5% Elastane",
          "Weight": "195 GSM",
          "Fit": "Pro Athletic Compression",
          "Compression": "High (25-30 mmHg)",
          "Care": "Machine Wash Cold / Air Dry",
          "Origin": "Made in India",
          "Warranty": "Lifetime Quality",
          "Collection": "Phantom Series"
        },
        bgGradient: "linear-gradient(135deg, #001428 0%, #000 50%, #000814 100%)",
        new: false
      }
    ];

    // State Management
    let currentProductIndex = 0;
    let selectedSize = 'M';
    let quantity = 1;
    let cart = JSON.parse(localStorage.getItem("valencire_cart")) || [];


    // Initialize
    window.onload = () => {
      renderProductSelector();

      // Check URL parameter for product ID
      const urlParams = new URLSearchParams(window.location.search);
      const productId = urlParams.get('product');

      if (productId) {
        // Find product by ID
        const index = products.findIndex(p => p.id == productId);
        loadProduct(index >= 0 ? index : 0);
      } else {
        // Default to first product
        loadProduct(0);
      }

      loadCart();

      // Setup Intersection Observer for Sticky Bar
      setupStickyObserver();
    };

    function setupStickyObserver() {
      const ctaSection = document.querySelector('.cta-buttons');
      const stickyBar = document.getElementById('stickyActionBar');

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          // If CTA buttons are NOT visible (scrolled out), show sticky bar
          if (!entry.isIntersecting) {
            stickyBar.classList.add('visible');
          } else {
            stickyBar.classList.remove('visible');
          }
        });
      }, { threshold: 0 }); // Trigger as soon as 1 pixel is out

      if (ctaSection) observer.observe(ctaSection);
    }

    // Render Product Selector Pills
    function renderProductSelector() {
      const selector = document.getElementById('productSelector');
      selector.innerHTML = products.map((product, index) => `
    <button class="product-pill ${index === 0 ? 'active' : ''}" onclick="loadProduct(${index})">
      ${product.name}
    </button>
  `).join('');
    }

    // Load Product
    function loadProduct(index) {
      currentProductIndex = index;
      const product = products[index];

      // Update URL without page reload
      const newUrl = `${window.location.pathname}?product=${product.id}`;
      window.history.pushState({ productId: product.id }, '', newUrl);

      // Update active pill
      document.querySelectorAll('.product-pill').forEach((pill, i) => {
        pill.classList.toggle('active', i === index);
      });

      // Update background
      document.getElementById('heroBg').style.background = product.bgGradient;

      // Update text content
      document.getElementById('eyebrow').textContent = product.new ? 'NEW ARRIVAL' : product.category.toUpperCase();
      document.getElementById('productTitle').textContent = product.name;
      document.getElementById('productDesc').textContent = product.description;
      document.getElementById('productPrice').textContent = `₹${product.price.toLocaleString()}`;

      // Update images
      const imagesHtml = `
  <div class="image-hover-card" id="imageCard">
    <img class="img-back" src="${product.images.back}" alt="Back View" id="imgBack">
    <img class="img-front" src="${product.images.front}" alt="Front View" id="imgFront">
    <div class="image-label">HOVER TO VIEW FRONT</div>
    <div class="carousel-dots">
      <div class="carousel-dot active" data-index="0"></div>
      <div class="carousel-dot" data-index="1"></div>
    </div>
  </div>
`;
      document.getElementById('productImages').innerHTML = imagesHtml;

      // Initialize mobile swipe and zoom
      initMobileImageInteraction();



      // Update features
      const featuresHtml = product.features.map(feature => `
    <div class="feature-card">
      <div class="feature-icon">
        ${getIconSvg(feature.icon)}
      </div>
      <h3>${feature.title}</h3>
      <p>${feature.desc}</p>
    </div>
  `).join('');
      document.getElementById('featuresGrid').innerHTML = featuresHtml;

      // Update specs
      const specsHtml = Object.entries(product.specs).map(([label, value]) => `
    <div class="spec-item">
      <span class="spec-label">${label}</span>
      <span class="spec-value">${value}</span>
    </div>
  `).join('');
      document.getElementById('specsGrid').innerHTML = specsHtml;

      // Update related products
      renderRelatedProducts(index);

      // Reset quantity and size
      quantity = 1;
      selectedSize = 'M';
      updatePrice();
      document.querySelectorAll('.size-btn').forEach(btn => {
        btn.classList.toggle('selected', btn.textContent === 'M');
      });
      document.getElementById('qtyDisplay').textContent = '1';

      // Scroll to top smoothly
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Render Related Products
    function renderRelatedProducts(currentIndex) {
      const relatedProducts = products.filter((_, i) => i !== currentIndex);
      const html = relatedProducts.map((product, index) => `
    <div class="related-card" onclick="loadProduct(${products.findIndex(p => p.id === product.id)})">
      <div class="related-image">
        <img src="${product.images.front}" alt="${product.name}">
      </div>
      <div class="related-info">
        <h3>${product.name}</h3>
        <p>₹${product.price.toLocaleString()}</p>
      </div>
    </div>
  `).join('');
      document.getElementById('relatedGrid').innerHTML = html;
    }

    // Icon SVG Generator
    function getIconSvg(iconName) {
      const icons = {
        layers: '<path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>',
        droplet: '<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',
        shield: '<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',
        award: '<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',
        activity: '<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',
        scissors: '<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',
        maximize: '<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',
        feather: '<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',
        wind: '<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',
        'trending-up': '<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',
        target: '<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',
        cpu: '<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',
        battery: '<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',
        check: '<polyline points="20 6 9 17 4 12"></polyline>',
        zap: '<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>'
      };
      return `<svg viewBox="0 0 24 24">${icons[iconName] || icons.award}</svg>`;
    }

    // Size Selection
    function selectSize(btn, size) {
      document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      selectedSize = size;

      // Update sticky bar size
      const stickySize = document.getElementById('stickySizeValue');
      if (stickySize) stickySize.textContent = size;
    }

    // Quantity Controls
    function changeQty(change) {
      quantity = Math.max(1, quantity + change);
      document.getElementById('qtyDisplay').textContent = quantity;
      updatePrice();
    }

    function updatePrice() {
      const product = products[currentProductIndex];
      const total = product.price * quantity;
      document.getElementById('totalPrice').textContent = total.toLocaleString();

      // Update sticky price
      const stickyPrice = document.getElementById('stickyPrice');
      if (stickyPrice) stickyPrice.textContent = `₹${total.toLocaleString()}`;
    }

    // Cart Functions
    // Add to Cart
    function addToCart() {
      if (!selectedSize) {
        showNotification('Please select a size');
        return;
      }

      const product = products[currentProductIndex];
      const cartItem = {
        id: product.id,
        name: product.name,
        size: selectedSize,
        quantity: quantity,
        price: product.price,
        image: product.images.back,
        total: product.price * quantity
      };

      cart.push(cartItem);
      saveCart();
      updateCartCount();
      showNotification(`Added ${quantity}x ${product.name} (Size ${selectedSize})`);

      // Trigger premium cart animation
      animateCartIcon();
    }

    // Premium cart icon animation with particles
    function animateCartIcon() {
      // Animate all cart icons (desktop and mobile)
      const cartWrappers = document.querySelectorAll('.cart-icon-wrapper');
      const cartCounts = document.querySelectorAll('.cart-count');

      cartWrappers.forEach(cartWrapper => {
        // Remove existing animations
        cartWrapper.classList.remove('animate', 'shake');

        // Trigger reflow to restart animation
        void cartWrapper.offsetWidth;

        // Add shake animation
        cartWrapper.classList.add('shake');

        // Create particle effect
        createCartParticles(cartWrapper);

        // Remove animation classes after completion
        setTimeout(() => {
          cartWrapper.classList.remove('shake');
        }, 600);
      });

      cartCounts.forEach(cartCount => {
        cartCount.classList.remove('pulse');
        void cartCount.offsetWidth;
        cartCount.classList.add('pulse');

        setTimeout(() => {
          cartCount.classList.remove('pulse');
        }, 600);
      });
    }

    // Create floating particles around cart icon
    function createCartParticles(cartWrapper) {
      const particleCount = 8;
      const rect = cartWrapper.getBoundingClientRect();

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'cart-particle';

        // Random direction
        const angle = (Math.PI * 2 * i) / particleCount;
        const distance = 30 + Math.random() * 20;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance;

        particle.style.cssText = `
        left: 50%;
        top: 50%;
        --tx: ${tx}px;
        --ty: ${ty}px;
      `;

        cartWrapper.appendChild(particle);

        // Remove particle after animation
        setTimeout(() => {
          particle.remove();
        }, 800);
      }
    }

    function buyNow() {
      addToCart();
      setTimeout(() => {
        showNotification('Proceeding to checkout...');
        window.location.href = 'cart.html';
      }, 500);
    }

    function viewCart() {
      window.location.href = "cart.html";
    }


    function updateCartCount() {
      const count = cart.reduce((sum, item) => sum + item.quantity, 0);

      // Update all cart count badges
      const badges = [
        document.getElementById('cartCount'),
        document.getElementById('mobileCartCountBadge'),
        document.getElementById('mobileCartCount')
      ];

      badges.forEach(badge => {
        if (badge) {
          badge.textContent = count;
          if (count > 0) {
            badge.classList.add('active');
          } else {
            badge.classList.remove('active');
          }
        }
      });
    }

    function saveCart() {
      localStorage.setItem("valencire_cart", JSON.stringify(cart));
    }


    function loadCart() {
      cart = JSON.parse(localStorage.getItem("valencire_cart")) || [];
      updateCartCount();
    }


    // Notification
    function showNotification(message) {
      const notif = document.getElementById('notification');
      notif.textContent = message;
      notif.classList.add('show');
      setTimeout(() => {
        notif.classList.remove('show');
      }, 3500);
    }

    // Scroll Function
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }

    function goToCart() {
      window.location.href = "cart.html";
    }

    // Mobile Menu Toggle
    function toggleMobileMenu(btn) {
      if (btn) btn.classList.toggle('active');
      else document.querySelector('.mobile-menu-btn').classList.toggle('active');

      document.getElementById('mobileMenuOverlay').classList.toggle('active');
    }

    function mobileLinkClick(sectionId) {
      toggleMobileMenu();
      scrollToSection(sectionId);
    }

    // Sync mobile cart count
    // (This needs to be called in updateCartCount as well)

    // ================= MOBILE IMAGE INTERACTION =================
    let currentImageIndex = 0;
    let touchStartX = 0;
    let touchEndX = 0;
    let scale = 1;
    let lastScale = 1;

    function initMobileImageInteraction() {
      const imageCard = document.getElementById('imageCard');
      const imgBack = document.getElementById('imgBack');
      const imgFront = document.getElementById('imgFront');
      const dots = document.querySelectorAll('.carousel-dot');

      if (!imageCard) return;

      // Only enable swipe/zoom on mobile
      if (window.innerWidth > 768) return;

      // Swipe to change image
      imageCard.addEventListener('touchstart', (e) => {
        if (e.touches.length === 1) {
          touchStartX = e.touches[0].clientX;
        }
      }, { passive: true });

      imageCard.addEventListener('touchmove', (e) => {
        if (e.touches.length === 1) {
          touchEndX = e.touches[0].clientX;
        }
      }, { passive: true });

      imageCard.addEventListener('touchend', () => {
        handleSwipe();
      });

      // Pinch to zoom
      let initialDistance = 0;

      imageCard.addEventListener('touchstart', (e) => {
        if (e.touches.length === 2) {
          initialDistance = getDistance(e.touches[0], e.touches[1]);
          lastScale = scale;
        }
      }, { passive: true });

      imageCard.addEventListener('touchmove', (e) => {
        if (e.touches.length === 2) {
          e.preventDefault();
          const currentDistance = getDistance(e.touches[0], e.touches[1]);
          scale = lastScale * (currentDistance / initialDistance);
          scale = Math.min(Math.max(1, scale), 3); // Limit zoom between 1x and 3x

          const activeImg = currentImageIndex === 0 ? imgBack : imgFront;
          activeImg.style.transform = `scale(${scale})`;
        }
      }, { passive: false });

      imageCard.addEventListener('touchend', (e) => {
        if (e.touches.length === 0 && scale > 1) {
          // Reset zoom after a delay
          setTimeout(() => {
            scale = 1;
            lastScale = 1;
            imgBack.style.transform = 'scale(1)';
            imgFront.style.transform = 'scale(1)';
          }, 300);
        }
      });

      // Dot click
      dots.forEach(dot => {
        dot.addEventListener('click', () => {
          const index = parseInt(dot.dataset.index);
          switchToImage(index);
        });
      });
    }

    function handleSwipe() {
      const swipeThreshold = 50;
      const diff = touchStartX - touchEndX;

      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          // Swipe left - show front
          switchToImage(1);
        } else {
          // Swipe right - show back
          switchToImage(0);
        }
      }
    }

    function switchToImage(index) {
      currentImageIndex = index;
      const imgBack = document.getElementById('imgBack');
      const imgFront = document.getElementById('imgFront');
      const dots = document.querySelectorAll('.carousel-dot');

      if (index === 0) {
        imgBack.style.opacity = '1';
        imgBack.style.transform = 'scale(1)';
        imgFront.style.opacity = '0';
        imgFront.style.transform = 'scale(1.05)';
      } else {
        imgBack.style.opacity = '0';
        imgBack.style.transform = 'scale(1.08)';
        imgFront.style.opacity = '1';
        imgFront.style.transform = 'scale(1)';
      }

      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
      });
    }

    function getDistance(touch1, touch2) {
      const dx = touch1.clientX - touch2.clientX;
      const dy = touch1.clientY - touch2.clientY;
      return Math.sqrt(dx * dx + dy * dy);
    }

  </script>

</body>

</html>